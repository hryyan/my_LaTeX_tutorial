\documentclass{ctexart}
\setCJKmonofont{wqy-microhei.ttc} % 变更mono的字体，写代码的时候系统会默认使用mono字体

\usepackage[top=2.5cm, bottom=2.5cm, inner=2cm, outer=2cm]{geometry} % 页面设置
\usepackage{listings} % 代码注释
\usepackage{color} % 自定义颜色

% 定义三个颜色
\definecolor{dkgreen}{rgb}{0, 0.6, 0}
\definecolor{gray}{rgb}{0.5, 0.5, 0.5}
\definecolor{mauve}{rgb}{0.58, 0, 0.82}

% 一些代码段的设置
\lstset{frame=tb,
        language=C++,
        aboveskip=5mm,
        belowskip=5mm,
        showstringspaces=false,
        columns=flexible,
        basicstyle={\small\ttfamily},
        numberstyle=\tiny\color{gray},
        keywordstyle=\color{blue},
        commentstyle=\color{dkgreen},
        stringstyle=\color{mauve},
        numbers=left,
        numbersep=5pt,
        breaklines=true,
        breakatwhitespace=true,
        tabsize=4,
        xleftmargin=.1\textwidth,
        xrightmargin=.1\textwidth
       }

\begin{document}

% 这里就可以写代码了
\begin{lstlisting}
#include <opencv2/opencv.hpp>
#include <vector>
using namespace cv;
using namespace std;

CascadeClassifier classifier = CascadeClassifier("/modelpath");
Mat img = imread("/imagepath");
vector<Rect> vec;
classifier.detectMultiScale(img, vec);
\end{lstlisting}

\end{document}
